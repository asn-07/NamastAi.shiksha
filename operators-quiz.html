<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Operators & Assignments Quiz - NamastAI.shiksha</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <!-- PDF Generation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        :root {
            --color-primary: #0056D2;
            --color-primary-dark: #003c94;
            --color-primary-light: #3d7ce5;
            --color-accent: #10b981;
            --color-accent-light: #6ee7b7;
            --color-success: #059669;
            --color-error: #dc2626;
            --color-warning: #d97706;
            --color-certificate: #fef3c7;
            --color-bg: #ffffff;
            --color-bg-secondary: #f9fafb;
            --color-bg-tertiary: #f3f4f6;
            --color-text: #111827;
            --color-text-secondary: #6b7280;
            --color-text-muted: #9ca3af;
            --color-border: #e5e7eb;
            --gradient-primary: linear-gradient(135deg, #0056D2 0%, #7c3aed 100%);
            --gradient-accent: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --transition-base: 300ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-smooth: 500ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--color-bg-secondary);
            color: var(--color-text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--color-border);
            box-shadow: var(--shadow-sm);
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: 800;
            text-decoration: none;
            color: var(--color-text);
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-text {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            letter-spacing: -1px;
        }

        .text-brand-blue {
            color: #0056D2;
        }

        .text-brand-orange {
            color: #FF8C00;
        }

        .accent {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Welcome Section */
        .welcome-section {
            background: var(--gradient-primary);
            color: white;
            border-radius: 1rem;
            padding: 3rem;
            margin: 2rem 0;
            text-align: center;
            box-shadow: var(--shadow-xl);
            animation: slideInDown 0.6s ease;
        }

        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .welcome-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .welcome-subtitle {
            font-size: 1.25rem;
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.875rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            border-radius: 0.625rem;
            transition: var(--transition-base);
            cursor: pointer;
            border: none;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: white;
            color: var(--color-primary);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Quiz Section */
        .quiz-section {
            background: white;
            border-radius: 1rem;
            padding: 2.5rem;
            margin: 3rem 0;
            box-shadow: var(--shadow-lg);
            border: 2px solid var(--color-border);
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .quiz-title {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .quiz-subtitle {
            color: var(--color-text-secondary);
            font-size: 1.125rem;
        }

        /* Quiz Registration */
        .quiz-registration {
            background: var(--color-bg-secondary);
            padding: 2rem;
            border-radius: 1rem;
            margin: 2rem 0;
            text-align: center;
        }

        .registration-form {
            max-width: 500px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--color-text);
        }

        .form-group input {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid var(--color-border);
            border-radius: 0.5rem;
            font-size: 1rem;
            font-family: inherit;
            transition: var(--transition-base);
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .btn-accent {
            background: var(--gradient-accent);
            color: white;
        }

        .btn-accent:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Quiz Content */
        .student-info {
            background: var(--color-bg-secondary);
            padding: 1rem;
            border-radius: 0.75rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .student-avatar {
            width: 48px;
            height: 48px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.25rem;
        }

        .quiz-progress {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
            padding: 1rem;
            background: var(--color-bg-secondary);
            border-radius: 0.75rem;
        }

        .progress-bar {
            flex: 1;
            height: 8px;
            background: var(--color-border);
            border-radius: 4px;
            overflow: hidden;
            margin: 0 1rem;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-accent);
            width: 0%;
            transition: width 0.6s ease;
        }

        .question-card {
            background: var(--color-bg-secondary);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid var(--color-border);
            animation: scaleIn 0.4s ease;
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .question-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background: var(--color-primary);
            color: white;
            border-radius: 50%;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.75rem;
        }

        @media (min-width: 768px) {
            .options-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .option-label {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: white;
            border: 2px solid var(--color-border);
            border-radius: 0.75rem;
            cursor: pointer;
            transition: var(--transition-base);
        }

        .option-label:hover {
            border-color: var(--color-primary-light);
            background: var(--color-bg-tertiary);
        }

        .option-label.selected {
            border-color: var(--color-primary);
            background: rgba(37, 99, 235, 0.05);
        }

        .option-label.correct {
            border-color: var(--color-success);
            background: rgba(16, 185, 129, 0.1);
        }

        .option-label.incorrect {
            border-color: var(--color-error);
            background: rgba(220, 38, 38, 0.1);
        }

        .option-input {
            display: none;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Result Animation */
        .result-container {
            display: none;
            text-align: center;
            padding: 3rem;
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .result-icon {
            font-size: 6rem;
            margin-bottom: 1.5rem;
            animation: bounce 1s ease infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        .result-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .result-pass {
            color: var(--color-success);
        }

        .result-fail {
            color: var(--color-error);
        }

        .result-score {
            font-size: 4rem;
            font-weight: 900;
            margin: 1rem 0;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .result-message {
            font-size: 1.125rem;
            color: var(--color-text-secondary);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Certificate Styles */
        .certificate-container {
            display: none;
            background: var(--color-certificate);
            border: 20px solid #d4af37;
            border-radius: 20px;
            padding: 3rem;
            margin: 3rem auto;
            max-width: 800px;
            position: relative;
            box-shadow: var(--shadow-xl);
            animation: certificateAppear 1s ease;
        }

        @keyframes certificateAppear {
            from {
                opacity: 0;
                transform: scale(0.8) rotate(-5deg);
            }

            to {
                opacity: 1;
                transform: scale(1) rotate(0);
            }
        }

        .certificate-border {
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 2px solid #d4af37;
            border-radius: 10px;
            pointer-events: none;
        }

        .certificate-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .certificate-logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .certificate-title {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: #d4af37;
            margin-bottom: 0.5rem;
        }

        .certificate-subtitle {
            font-size: 1.25rem;
            color: var(--color-text-secondary);
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        .certificate-body {
            text-align: center;
            padding: 2rem;
        }

        .certificate-text {
            font-size: 1.125rem;
            line-height: 1.8;
            margin-bottom: 2rem;
            color: var(--color-text);
        }

        .student-name {
            font-size: 3rem;
            font-family: 'Dancing Script', cursive;
            color: var(--color-primary);
            margin: 1.5rem 0;
            padding: 1rem;
            border-bottom: 2px solid #d4af37;
            border-top: 2px solid #d4af37;
        }

        .certificate-details {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--color-border);
        }

        .certificate-date,
        .certificate-score {
            text-align: center;
        }

        .certificate-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background: var(--gradient-primary);
            opacity: 0;
            pointer-events: none;
        }

        /* Print & PDF Download Optimization */
        @media print {
            .certificate-container {
                box-shadow: none;
                page-break-inside: avoid;
            }

            .certificate-actions {
                display: none;
            }

            body {
                background: white;
            }
        }

        /* Ensure certificate fonts load properly */
        .certificate-title,
        .student-name {
            font-display: block;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Footer */
        .footer {
            background: var(--color-text);
            color: white;
            padding: 3rem 0 2rem;
            margin-top: 4rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 3rem;
            margin-bottom: 2rem;
        }

        .footer-brand .logo {
            color: white;
            margin-bottom: 1rem;
        }

        .footer-tagline {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
        }

        /* Responsive Design */
        @media (max-width: 968px) {
            .container {
                padding: 0 1.5rem;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .quiz-section {
                padding: 1.5rem;
            }

            .certificate-container {
                padding: 2rem;
                margin: 2rem 1rem;
            }

            .certificate-title {
                font-size: 2.5rem;
            }

            .student-name {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 768px) {
            .quiz-title {
                font-size: 1.75rem;
            }

            .result-title {
                font-size: 2rem;
            }

            .quiz-controls {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .certificate-details {
                flex-direction: column;
                gap: 1.5rem;
            }

            .certificate-title {
                font-size: 2rem;
            }

            .student-name {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 1rem;
            }

            .quiz-title {
                font-size: 1.5rem;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="nav-content">
                <a href="index.html" class="logo">
                    <div class="logo-icon">
                        <img src="assets/logo.svg" alt="NamastAI.shiksha Logo" width="40" height="40">
                    </div>
                    <span class="logo-text">
                        <span class="text-brand-blue">Namast</span>
                        <span class="text-brand-orange">Ai</span>
                        <span class="accent">.shiksha</span>
                    </span>
                </a>
                <div class="nav-actions">
                    <a href="operators-theory.html" class="btn btn-primary">Back to Theory</a>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Quiz Section -->
        <section class="quiz-section">
            <div class="quiz-header">
                <h2 class="quiz-title">üéØ Java Operators & Assignments Quiz</h2>
                <p class="quiz-subtitle">Test your knowledge of Java operators - increment/decrement, arithmetic,
                    bitwise, type casting, and more. Score 50% or more to earn your certificate!</p>
            </div>

            <!-- Quiz Registration -->
            <div id="quiz-registration" class="quiz-registration">
                <h3 style="margin-bottom: 1.5rem;">Enter Your Details to Start Quiz</h3>
                <div class="registration-form">
                    <div class="form-group">
                        <label for="student-name">Full Name</label>
                        <input type="text" id="student-name" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="student-email">Email Address</label>
                        <input type="email" id="student-email" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="student-id">Student ID (Optional)</label>
                        <input type="text" id="student-id" placeholder="Enter student ID if any">
                    </div>
                    <button id="start-quiz-btn" class="btn btn-accent" style="width: 100%;">
                        Start Quiz Now üöÄ
                    </button>
                </div>
            </div>

            <!-- Quiz Content -->
            <div id="quiz-content" style="display: none;">
                <div id="student-info" class="student-info">
                    <div class="student-avatar" id="student-avatar">JS</div>
                    <div>
                        <h4 id="display-student-name">John Smith</h4>
                        <p id="display-student-email" style="color: var(--color-text-secondary); font-size: 0.875rem;">
                            john@example.com</p>
                    </div>
                </div>

                <div class="quiz-progress">
                    <span id="current-question">Question 1</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <span id="score">Score: 0/0</span>
                </div>

                <div id="question-container">
                    <!-- Questions will be loaded here dynamically -->
                </div>

                <div class="quiz-controls">
                    <button id="prev-btn" class="btn btn-primary" disabled>
                        ‚Üê Previous
                    </button>
                    <button id="next-btn" class="btn btn-accent">
                        Next Question ‚Üí
                    </button>
                    <button id="submit-btn" class="btn btn-accent" style="display: none;">
                        Submit Quiz üöÄ
                    </button>
                </div>

                <div id="result-container" class="result-container">
                    <!-- Result will be shown here -->
                </div>

                <div id="certificate-container" class="certificate-container">
                    <!-- Certificate will be shown here -->
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="logo">
                        <div class="logo-icon">
                            <img src="assets/logo.svg" alt="NamastAI.shiksha Logo" width="40" height="40">
                        </div>
                        <span class="logo-text">
                            <span class="text-brand-blue">Namast</span>
                            <span class="text-brand-orange">Ai</span>
                            <span class="accent">.shiksha</span>
                        </span>
                    </div>
                    <p class="footer-tagline">Empowering the next generation of software developers with industry-ready
                        skills.</p>
                </div>
                <div>
                    <h4>Quick Links</h4>
                    <a href="operators-theory.html"
                        style="color: rgba(255, 255, 255, 0.7); text-decoration: none; display: block; margin-top: 0.5rem;">Theory
                        Page</a>
                    <a href="/curriculum.html"
                        style="color: rgba(255, 255, 255, 0.7); text-decoration: none; display: block; margin-top: 0.5rem;">Curriculum</a>
                    <a href="/enroll.html"
                        style="color: rgba(255, 255, 255, 0.7); text-decoration: none; display: block; margin-top: 0.5rem;">Enroll
                        Now</a>
                </div>
                <div>
                    <h4>Contact</h4>
                    <p style="color: rgba(255, 255, 255, 0.7); margin-top: 0.5rem;">üìß info@namastai.shiksha</p>
                    <p style="color: rgba(255, 255, 255, 0.7); margin-top: 0.5rem;">üìû +91 9246212143, 8096969696</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 NamastAI.shiksha. All rights reserved.</p>
                <p style="margin-top: 0.5rem; font-size: 0.875rem;">Professional Java Learning Platform - Interactive
                    Assessments</p>
            </div>
        </div>
    </footer>

    <script>
        // Comprehensive Quiz Questions for Operators & Assignments
        const quizQuestions = [
            // Increment & Decrement Operators (Page 3-6)
            {
                category: "Increment/Decrement",
                question: "What is the output of: int x=10; int y=++x; System.out.println(y);",
                options: [
                    "10",
                    "11",
                    "9",
                    "Compile error",
                    "Runtime error"
                ],
                correct: 1,
                explanation: "Prefix increment (++x) increments first (x becomes 11), then assigns to y (y=11)."
            },
            {
                category: "Increment/Decrement",
                question: "What is the output of: int x=10; int y=x++; System.out.println(y);",
                options: [
                    "10",
                    "11",
                    "9",
                    "Compile error",
                    "Runtime error"
                ],
                correct: 0,
                explanation: "Postfix increment (x++) assigns first (y=10), then increments x (x becomes 11)."
            },
            {
                category: "Increment/Decrement",
                question: "Which statement is true about increment/decrement operators?",
                options: [
                    "Can be applied to constants",
                    "Can be nested like ++(++x)",
                    "Cannot be applied to final variables",
                    "Can be applied to boolean type",
                    "All of the above are true"
                ],
                correct: 2,
                explanation: "Increment/decrement cannot be applied to final variables (compile error)."
            },
            {
                category: "Increment/Decrement",
                question: "What happens with: byte b=10; b = b + 1;",
                options: [
                    "Compiles fine, b=11",
                    "Runtime error",
                    "Compile error: possible loss of precision",
                    "b becomes 11 after implicit casting",
                    "None of the above"
                ],
                correct: 2,
                explanation: "b+1 returns int (byte+int=int), can't assign int to byte without explicit cast."
            },
            {
                category: "Increment/Decrement",
                question: "What happens with: byte b=10; b++;",
                options: [
                    "Compile error",
                    "Runtime error",
                    "b becomes 11",
                    "b becomes -1",
                    "None of the above"
                ],
                correct: 2,
                explanation: "b++ works because increment operators perform internal type casting: b=(byte)(b+1)."
            },

            // Arithmetic Operators (Page 7-9)
            {
                category: "Arithmetic",
                question: "What is the result type of: byte + byte?",
                options: [
                    "byte",
                    "short",
                    "int",
                    "long",
                    "Depends on values"
                ],
                correct: 2,
                explanation: "byte + byte = int (result type is max(int, type of a, type of b))."
            },
            {
                category: "Arithmetic",
                question: "What is the output of: System.out.println('a' + 'b');",
                options: [
                    "'ab'",
                    "195",
                    "Compile error",
                    "Runtime error",
                    "'a'+'b'"
                ],
                correct: 1,
                explanation: "char + char = int (97 + 98 = 195)."
            },
            {
                category: "Arithmetic",
                question: "What is the output of: System.out.println(10/0);",
                options: [
                    "0",
                    "Infinity",
                    "ArithmeticException",
                    "NaN",
                    "Compile error"
                ],
                correct: 2,
                explanation: "Integral arithmetic (/ by zero) throws ArithmeticException."
            },
            {
                category: "Arithmetic",
                question: "What is the output of: System.out.println(10/0.0);",
                options: [
                    "0",
                    "Infinity",
                    "ArithmeticException",
                    "NaN",
                    "Compile error"
                ],
                correct: 1,
                explanation: "Floating point arithmetic (/ by 0.0) returns Infinity, no exception."
            },
            {
                category: "Arithmetic",
                question: "What is the output of: System.out.println(0.0/0.0);",
                options: [
                    "0",
                    "Infinity",
                    "ArithmeticException",
                    "NaN",
                    "Compile error"
                ],
                correct: 3,
                explanation: "0.0/0.0 in floating point returns NaN (Not a Number)."
            },
            {
                category: "Arithmetic",
                question: "Which comparison with NaN returns true?",
                options: [
                    "10 < Float.NaN",
                    "10 == Float.NaN",
                    "Float.NaN == Float.NaN",
                    "10 != Float.NaN",
                    "All return false"
                ],
                correct: 3,
                explanation: "Only != comparison with NaN returns true. All others return false."
            },

            // String Concatenation (Page 10-11)
            {
                category: "String Concatenation",
                question: "What is the output: String a='ashok'; int b=10,c=20,d=30; System.out.println(a+b+c+d);",
                options: [
                    "ashok60",
                    "60ashok",
                    "ashok102030",
                    "Compile error",
                    "Runtime error"
                ],
                correct: 2,
                explanation: "If first operand is String, + performs concatenation: 'ashok' + 10 = 'ashok10', then +20 = 'ashok1020', then +30 = 'ashok102030'."
            },
            {
                category: "String Concatenation",
                question: "What is the output: String a='ashok'; int b=10,c=20,d=30; System.out.println(b+c+d+a);",
                options: [
                    "ashok60",
                    "60ashok",
                    "ashok102030",
                    "Compile error",
                    "Runtime error"
                ],
                correct: 1,
                explanation: "First b+c+d = 60 (arithmetic), then 60 + 'ashok' = '60ashok' (concatenation)."
            },
            {
                category: "String Concatenation",
                question: "Which causes compile error?",
                options: [
                    "String a='ashok'; int b=10; a = a + b;",
                    "String a='ashok'; int b=10; b = a + b;",
                    "String a='ashok'; int b=10,c=20; a = b + c + a;",
                    "String a='ashok'; int b=10,c=20; b = b + c;",
                    "All are valid"
                ],
                correct: 1,
                explanation: "b = a + b tries to assign String to int variable - compile error."
            },

            // Relational Operators (Page 11-12)
            {
                category: "Relational",
                question: "Which is valid with relational operators?",
                options: [
                    "System.out.println(10 > 10.5);",
                    "System.out.println('a' > 95.5);",
                    "System.out.println(true > false);",
                    "System.out.println('bhaskar' > 'ashok');",
                    "All are valid"
                ],
                correct: 0,
                explanation: "Relational operators work with all primitives except boolean. 'a' > 95.5 works (char promoted to double)."
            },
            {
                category: "Relational",
                question: "What happens with: System.out.println(10 < 20 < 30);",
                options: [
                    "Prints true",
                    "Prints false",
                    "Compile error",
                    "Runtime error",
                    "Prints 30"
                ],
                correct: 2,
                explanation: "Nesting not allowed: 10<20 returns boolean, then boolean<30 is invalid."
            },

            // Equality Operators (Page 12-13)
            {
                category: "Equality",
                question: "What is the output: String s1=new String('java'); String s2=new String('java'); System.out.println(s1==s2);",
                options: [
                    "true",
                    "false",
                    "Compile error",
                    "Runtime error",
                    "Depends on JVM"
                ],
                correct: 1,
                explanation: "== compares references, not content. s1 and s2 are different objects."
            },
            {
                category: "Equality",
                question: "What is the output: System.out.println(null == null);",
                options: [
                    "true",
                    "false",
                    "Compile error",
                    "Runtime error",
                    "Depends on context"
                ],
                correct: 0,
                explanation: "null == null always returns true."
            },
            {
                category: "Equality",
                question: "Which causes compile error?",
                options: [
                    "Thread t=new Thread(); Object o=new Object(); System.out.println(t==o);",
                    "Thread t=new Thread(); String s='java'; System.out.println(t==s);",
                    "String s1='java'; String s2='java'; System.out.println(s1==s2);",
                    "Object o=null; System.out.println(o==null);",
                    "All are valid"
                ],
                correct: 1,
                explanation: "Thread and String have no relationship, so == between them causes compile error."
            },

            // instanceof Operator (Page 14-15)
            {
                category: "instanceof",
                question: "What is the output: Thread t=new Thread(); System.out.println(t instanceof Runnable);",
                options: [
                    "true",
                    "false",
                    "Compile error",
                    "Runtime error",
                    "Depends on Thread implementation"
                ],
                correct: 0,
                explanation: "Thread implements Runnable, so t instanceof Runnable returns true."
            },
            {
                category: "instanceof",
                question: "What is the output: String s=new String('java'); System.out.println(s instanceof Thread);",
                options: [
                    "true",
                    "false",
                    "Compile error",
                    "Runtime error",
                    "Depends on JVM"
                ],
                correct: 2,
                explanation: "Compile error: String and Thread have no relationship."
            },
            {
                category: "instanceof",
                question: "What is the output: Object o=new Object(); System.out.println(o instanceof String);",
                options: [
                    "true",
                    "false",
                    "Compile error",
                    "Runtime error",
                    "Depends on object"
                ],
                correct: 1,
                explanation: "Parent object is never an instance of child type, returns false."
            },
            {
                category: "instanceof",
                question: "What is the output: System.out.println(null instanceof String);",
                options: [
                    "true",
                    "false",
                    "Compile error",
                    "Runtime error",
                    "NullPointerException"
                ],
                correct: 1,
                explanation: "null instanceof X always returns false for any X."
            },

            // Bitwise Operators (Page 16-17)
            {
                category: "Bitwise",
                question: "What is the output: System.out.println(4 & 5);",
                options: [
                    "4",
                    "5",
                    "1",
                    "0",
                    "9"
                ],
                correct: 0,
                explanation: "4=100, 5=101, 4&5=100=4."
            },
            {
                category: "Bitwise",
                question: "What is the output: System.out.println(4 | 5);",
                options: [
                    "4",
                    "5",
                    "1",
                    "0",
                    "9"
                ],
                correct: 1,
                explanation: "4=100, 5=101, 4|5=101=5."
            },
            {
                category: "Bitwise",
                question: "What is the output: System.out.println(4 ^ 5);",
                options: [
                    "4",
                    "5",
                    "1",
                    "0",
                    "9"
                ],
                correct: 2,
                explanation: "4=100, 5=101, 4^5=001=1."
            },
            {
                category: "Bitwise",
                question: "Which operator can be applied to boolean only?",
                options: [
                    "&",
                    "|",
                    "^",
                    "~",
                    "!"
                ],
                correct: 4,
                explanation: "! is boolean complement operator, works only with boolean."
            },
            {
                category: "Bitwise",
                question: "Which operator can be applied to integral types only?",
                options: [
                    "&",
                    "|",
                    "^",
                    "~",
                    "!"
                ],
                correct: 3,
                explanation: "~ is bitwise complement, works only with integral types, not boolean."
            },

            // Short Circuit Operators (Page 18)
            {
                category: "Short Circuit",
                question: "What is the main difference between & and &&?",
                options: [
                    "& works with boolean, && with integers",
                    "&& evaluates second operand only if needed",
                    "& is faster than &&",
                    "&& can be used with integral types",
                    "All of the above"
                ],
                correct: 1,
                explanation: "&& short-circuits: if first operand false, second not evaluated."
            },
            {
                category: "Short Circuit",
                question: "int x=10; if(++x<10 && (x/0)>10) System.out.println('Hello'); else System.out.println('Hi'); Output?",
                options: [
                    "Hello",
                    "Hi",
                    "ArithmeticException",
                    "Compile error",
                    "Infinite loop"
                ],
                correct: 1,
                explanation: "++x=11, 11<10 is false, && short-circuits, (x/0) not evaluated, prints 'Hi'."
            },
            {
                category: "Short Circuit",
                question: "Which operator cannot be used with integral types?",
                options: [
                    "&",
                    "|",
                    "&&",
                    "^",
                    "All can be used"
                ],
                correct: 2,
                explanation: "&& and || work only with boolean types, not integral types."
            },

            // Type Cast Operators (Page 19-21)
            {
                category: "Type Cast",
                question: "What is implicit type casting also called?",
                options: [
                    "Narrowing",
                    "Downcasting",
                    "Widening",
                    "Explicit casting",
                    "Lossy casting"
                ],
                correct: 2,
                explanation: "Implicit = Widening = Upcasting (lower to higher type)."
            },
            {
                category: "Type Cast",
                question: "int x=130; byte b=(byte)x; System.out.println(b); Output?",
                options: [
                    "130",
                    "-126",
                    "Compile error",
                    "Runtime error",
                    "0"
                ],
                correct: 1,
                explanation: "130 in binary: 10000010, as signed byte = -126 (2's complement)."
            },
            {
                category: "Type Cast",
                question: "double d=130.456; int x=(int)d; System.out.println(x); Output?",
                options: [
                    "130",
                    "130.456",
                    "131",
                    "Compile error",
                    "Runtime error"
                ],
                correct: 0,
                explanation: "Casting floating to integral truncates decimal part: 130.456 ‚Üí 130."
            },

            // Assignment Operators (Page 21-23)
            {
                category: "Assignment",
                question: "Which is valid chained assignment?",
                options: [
                    "int a=b=c=d=20;",
                    "int a,b,c,d; a=b=c=d=20;",
                    "int a=10; int b=20; a=b=30;",
                    "Both B and C",
                    "All are valid"
                ],
                correct: 3,
                explanation: "Can chain after declaration, but not during declaration unless variables already exist."
            },
            {
                category: "Assignment",
                question: "byte b=10; b=b+1; vs b+=1; What's the difference?",
                options: [
                    "Both same",
                    "First compiles, second doesn't",
                    "Second compiles, first doesn't",
                    "Both compile error",
                    "Both runtime error"
                ],
                correct: 2,
                explanation: "b=b+1 gives compile error (int to byte). b+=1 compiles (compound assignment does internal cast)."
            },

            // Conditional Operator (Page 24)
            {
                category: "Conditional",
                question: "What is the output: int x=(10>20)?30:((40>50)?60:70);",
                options: [
                    "30",
                    "60",
                    "70",
                    "Compile error",
                    "Runtime error"
                ],
                correct: 2,
                explanation: "10>20 false ‚Üí evaluate second: 40>50 false ‚Üí 70."
            },
            {
                category: "Conditional",
                question: "int a=10,b=20; byte c=(a>b)?30:40; What happens?",
                options: [
                    "c=40",
                    "c=30",
                    "Compile error",
                    "Runtime error",
                    "c=0"
                ],
                correct: 2,
                explanation: "30 and 40 are int literals, result is int, can't assign to byte without cast."
            },

            // new Operator and Related (Page 25-29)
            {
                category: "new Operator",
                question: "What is the only overloaded operator in Java?",
                options: [
                    "++",
                    "--",
                    "+",
                    "=",
                    "=="
                ],
                correct: 2,
                explanation: "+ is overloaded: arithmetic addition or string concatenation."
            },
            {
                category: "new Operator",
                question: "Which exception for dynamic class loading failure?",
                options: [
                    "NoClassDefFoundError",
                    "ClassNotFoundException",
                    "InstantiationException",
                    "IllegalAccessException",
                    "RuntimeException"
                ],
                correct: 1,
                explanation: "Class.forName() throws ClassNotFoundException (checked) if class not found."
            },
            {
                category: "new Operator",
                question: "Which error for static class reference failure?",
                options: [
                    "NoClassDefFoundError",
                    "ClassNotFoundException",
                    "InstantiationException",
                    "IllegalAccessException",
                    "RuntimeException"
                ],
                correct: 0,
                explanation: "new Test() throws NoClassDefFoundError (unchecked) if Test.class missing."
            },
            {
                category: "new Operator",
                question: "When to use newInstance() vs new?",
                options: [
                    "newInstance() when class known at compile time",
                    "new when class known at runtime",
                    "newInstance() when class known dynamically at runtime",
                    "Both A and B",
                    "Both B and C"
                ],
                correct: 2,
                explanation: "newInstance() for dynamic class loading, new for compile-time known classes."
            },
            {
                category: "new Operator",
                question: "instanceof vs isInstance() difference?",
                options: [
                    "instanceof for runtime types, isInstance() for compile-time",
                    "isInstance() is operator, instanceof is method",
                    "instanceof for compile-time known types, isInstance() for dynamic",
                    "No difference",
                    "Both are same"
                ],
                correct: 2,
                explanation: "instanceof requires type known at compile time, isInstance() works with dynamic types."
            },

            // Complex Examples (Page 26, 29)
            {
                category: "Complex",
                question: "int x=10; x=x++; System.out.println(x); Output?",
                options: [
                    "10",
                    "11",
                    "0",
                    "Compile error",
                    "Runtime error"
                ],
                correct: 0,
                explanation: "1. Old value considered for assignment (x=10), 2. x incremented (x=11), 3. Assignment with old value (x=10)."
            },
            {
                category: "Complex",
                question: "int i=1; i+=++i + i++ + ++i + i++; System.out.println(i); Output?",
                options: [
                    "1",
                    "13",
                    "15",
                    "Compile error",
                    "Runtime error"
                ],
                correct: 1,
                explanation: "i = i + ++i + i++ + ++i + i++ = 1 + 2 + 2 + 4 + 4 = 13."
            },
            {
                category: "Complex",
                question: "Operator precedence: what evaluates first in a+b*c/d?",
                options: [
                    "a+b then * then /",
                    "b*c then / then +a",
                    "a+b*c then /",
                    "Depends on values",
                    "All same precedence"
                ],
                correct: 1,
                explanation: "* and / have higher precedence than +, evaluated left to right: b*c, then /d, then +a."
            },

            // Additional Tricky Questions
            {
                category: "Tricky",
                question: "What is the output: System.out.println('a' + 1);",
                options: [
                    "'b'",
                    "98",
                    "'a1'",
                    "Compile error",
                    "Runtime error"
                ],
                correct: 1,
                explanation: "char + int = int (97 + 1 = 98)."
            },
            {
                category: "Tricky",
                question: "What is the output: System.out.println('a' + 1.2);",
                options: [
                    "'b.2'",
                    "98.2",
                    "'a1.2'",
                    "Compile error",
                    "Runtime error"
                ],
                correct: 1,
                explanation: "char + double = double (97.0 + 1.2 = 98.2)."
            },
            {
                category: "Tricky",
                question: "Which causes ArithmeticException?",
                options: [
                    "10/0",
                    "10/0.0",
                    "0/0",
                    "0.0/0.0",
                    "Both A and C"
                ],
                correct: 4,
                explanation: "10/0 and 0/0 cause ArithmeticException in integral arithmetic."
            },
            {
                category: "Tricky",
                question: "What is the result type of: byte + char?",
                options: [
                    "byte",
                    "char",
                    "int",
                    "long",
                    "short"
                ],
                correct: 2,
                explanation: "byte + char = int (max(int, byte, char) = int)."
            },
            {
                category: "Tricky",
                question: "What happens with: final int x=10; x++;",
                options: [
                    "x becomes 11",
                    "Compile error",
                    "Runtime error",
                    "x remains 10",
                    "None of the above"
                ],
                correct: 1,
                explanation: "Cannot modify final variable x."
            }
        ];

        // Quiz State
        let currentQuestion = 0;
        let userAnswers = new Array(quizQuestions.length).fill(null);
        let score = 0;
        let studentName = "";
        let studentEmail = "";
        let studentInitials = "";

        // DOM Elements
        const quizRegistration = document.getElementById('quiz-registration');
        const quizContent = document.getElementById('quiz-content');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const questionContainer = document.getElementById('question-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const currentQuestionSpan = document.getElementById('current-question');
        const scoreSpan = document.getElementById('score');
        const progressFill = document.getElementById('progress-fill');
        const resultContainer = document.getElementById('result-container');
        const certificateContainer = document.getElementById('certificate-container');
        const studentInfo = document.getElementById('student-info');
        const studentAvatar = document.getElementById('student-avatar');
        const displayStudentName = document.getElementById('display-student-name');
        const displayStudentEmail = document.getElementById('display-student-email');

        // Get initials from name
        function getInitials(name) {
            return name.split(' ').map(word => word[0]).join('').toUpperCase().substring(0, 2);
        }

        // Start Quiz
        startQuizBtn.addEventListener('click', () => {
            const nameInput = document.getElementById('student-name');
            const emailInput = document.getElementById('student-email');

            if (!nameInput.value.trim()) {
                alert('Please enter your name');
                return;
            }

            if (!emailInput.value.trim()) {
                alert('Please enter your email');
                return;
            }

            studentName = nameInput.value.trim();
            studentEmail = emailInput.value.trim();
            studentInitials = getInitials(studentName);

            // Update student info display
            studentAvatar.textContent = studentInitials;
            displayStudentName.textContent = studentName;
            displayStudentEmail.textContent = studentEmail;

            // Hide registration, show quiz content
            quizRegistration.style.display = 'none';
            quizContent.style.display = 'block';
            studentInfo.style.display = 'flex';

            // Initialize quiz
            initializeQuiz();
        });

        // ========================================
        // GOOGLE SHEETS INTEGRATION
        // ========================================

        // Configuration: Set your Google Apps Script Web App URL here
        const GOOGLE_SHEETS_CONFIG = {
            enabled: true,
            webAppUrl: 'https://script.google.com/macros/s/AKfycbzTIFkOD0wgCGc29Hw8frutPiVu9rhQ81ZaI5b6TbA4Iky4n1I_sJ0uMImZlttIz-O1/exec', // Paste your Google Apps Script Web App URL here
        };

        // Send quiz completion data to Google Sheets
        async function sendToGoogleSheets(certData) {
            // Only send if enabled and URL is configured
            if (!GOOGLE_SHEETS_CONFIG.enabled || !GOOGLE_SHEETS_CONFIG.webAppUrl) {
                console.log('üìä Google Sheets tracking is disabled');
                return;
            }

            try {
                const dataToSend = {
                    timestamp: new Date().toISOString(),
                    studentName: certData.studentName,
                    studentEmail: certData.studentEmail,
                    score: certData.score,
                    totalQuestions: certData.totalQuestions,
                    percentage: certData.percentage,
                    passed: parseFloat(certData.percentage) >= 50,
                    completionDate: certData.date,
                    certificateUUID: certData.uuid,
                    certificateDownloaded: false,
                    userAgent: navigator.userAgent,
                    referrer: document.referrer || 'Direct',
                    quizType: 'Operators & Assignments'
                };

                console.log('üì§ Sending quiz data to Google Sheets...', dataToSend);

                const response = await fetch(GOOGLE_SHEETS_CONFIG.webAppUrl, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(dataToSend)
                });

                console.log('‚úÖ Data sent to Google Sheets successfully');
                localStorage.setItem('sheets_submission_' + certData.uuid, 'true');

            } catch (error) {
                console.error('‚ùå Error sending data to Google Sheets:', error);
            }
        }

        // Track certificate download
        async function trackCertificateDownload(certUUID) {
            if (!GOOGLE_SHEETS_CONFIG.enabled || !GOOGLE_SHEETS_CONFIG.webAppUrl) {
                return;
            }

            try {
                const downloadData = {
                    action: 'download',
                    certificateUUID: certUUID,
                    downloadTimestamp: new Date().toISOString(),
                    quizType: 'Operators & Assignments'
                };

                await fetch(GOOGLE_SHEETS_CONFIG.webAppUrl, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(downloadData)
                });

                console.log('‚úÖ Certificate download tracked');
            } catch (error) {
                console.error('‚ùå Error tracking download:', error);
            }
        }

        // ========================================

        // Shuffle questions
        let shuffledQuestions = [...quizQuestions];

        // Check for saved certificate on page load
        window.addEventListener('DOMContentLoaded', () => {
            const savedCert = localStorage.getItem('namastai_operators_certificate');
            if (savedCert) {
                try {
                    const certData = JSON.parse(savedCert);
                    showCertificateBanner(certData);

                    if (window.location.hash === '#certificate') {
                        studentName = certData.studentName;
                        studentEmail = certData.studentEmail;
                        score = certData.score;
                        certificateUUID = certData.uuid;
                        showSavedCertificate(certData);
                    }
                } catch (e) {
                    console.error('Error loading saved certificate:', e);
                }
            }
        });

        // Show banner for saved certificate
        function showCertificateBanner(certData) {
            if (document.getElementById('cert-banner')) return;

            const banner = document.createElement('div');
            banner.id = 'cert-banner';
            banner.style.cssText = `
                position: fixed;
                top: 80px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #10b981 0%, #059669 100%);
                color: white;
                padding: 1rem 2rem;
                border-radius: 0.75rem;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
                z-index: 9999;
                display: flex;
                align-items: center;
                gap: 1rem;
                animation: slideDown 0.5s ease;
                max-width: 90%;
            `;

            banner.innerHTML = `
                <span style="font-size: 1.5rem;">üéì</span>
                <div>
                    <strong>Certificate Available!</strong>
                    <div style="font-size: 0.875rem; opacity: 0.9;">
                        ${certData.studentName} - ${certData.percentage}% score (Operators)
                    </div>
                </div>
                <button onclick="viewSavedCertificate()" style="
                    background: white;
                    color: #059669;
                    border: none;
                    padding: 0.5rem 1rem;
                    border-radius: 0.5rem;
                    font-weight: 600;
                    cursor: pointer;
                    margin-left: auto;
                ">View Certificate</button>
                <button onclick="this.parentElement.remove()" style="
                    background: transparent;
                    color: white;
                    border: none;
                    font-size: 1.5rem;
                    cursor: pointer;
                    padding: 0 0.5rem;
                ">&times;</button>
            `;

            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideDown {
                    from {
                        opacity: 0;
                        transform: translateX(-50%) translateY(-20px);
                    }
                    to {
                        opacity: 1;
                        transform: translateX(-50%) translateY(0);
                    }
                }
            `;
            document.head.appendChild(style);
            document.body.appendChild(banner);
        }

        // View saved certificate from banner
        window.viewSavedCertificate = function () {
            const savedCert = localStorage.getItem('namastai_operators_certificate');
            if (savedCert) {
                const certData = JSON.parse(savedCert);
                studentName = certData.studentName;
                studentEmail = certData.studentEmail;
                score = certData.score;
                certificateUUID = certData.uuid;

                showSavedCertificate(certData);
                const banner = document.getElementById('cert-banner');
                if (banner) banner.remove();
                window.location.hash = 'certificate';
            }
        };

        // Show saved certificate
        function showSavedCertificate(certData) {
            certificateContainer.innerHTML = `
                <div class="certificate-border"></div>
                <div class="certificate-header">
                    <div class="certificate-logo">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" style="width: 120px; height: 120px;">
                            <path d="M65 160 L65 100 C65 70 85 40 95 20 L100 20 L100 160 Z" fill="#0056D2" stroke="none"/>
                            <path d="M135 160 L135 100 C135 70 115 40 105 20 L100 20 L100 160 Z" fill="#FF8C00" stroke="none"/>
                            <circle cx="80" cy="80" r="4" fill="white"/>
                            <circle cx="80" cy="120" r="4" fill="white"/>
                            <circle cx="120" cy="60" r="4" fill="white"/>
                            <circle cx="120" cy="100" r="4" fill="white"/>
                            <line x1="80" y1="80" x2="80" y2="120" stroke="white" stroke-width="2"/>
                            <line x1="80" y1="80" x2="65" y2="70" stroke="white" stroke-width="2"/>
                            <line x1="120" y1="60" x2="120" y2="100" stroke="white" stroke-width="2"/>
                            <line x1="120" y1="100" x2="135" y2="110" stroke="white" stroke-width="2"/>
                            <line x1="100" y1="20" x2="100" y2="160" stroke="white" stroke-width="2"/>
                        </svg>
                    </div>
                    <h1 class="certificate-title">Certificate of Achievement</h1>
                    <p class="certificate-subtitle">Java Operators & Assignments</p>
                </div>
                
                <div class="certificate-body">
                    <p class="certificate-text">This certifies that</p>
                    <div class="student-name">${certData.studentName}</div>
                    <p class="certificate-text">
                        has successfully completed the Java Operators & Assignments Quiz 
                        with a score of <strong>${certData.percentage}%</strong> 
                        (${certData.score} out of ${certData.totalQuestions} questions) 
                        demonstrating proficiency in Java operators and type conversions.
                    </p>
                    
                    <div class="certificate-details">
                        <div class="certificate-date">
                            <h4>Date</h4>
                            <p>${certData.date}</p>
                        </div>
                        <div class="certificate-score">
                            <h4>Score</h4>
                            <p>${certData.percentage}%</p>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--color-border);">
                        <p style="font-size: 0.875rem; color: var(--color-text-secondary);">
                            <strong>Certificate ID:</strong> ${certData.uuid}
                        </p>
                        <p style="font-size: 0.75rem; color: var(--color-text-muted); margin-top: 0.5rem;">
                            Verify at namastai.shiksha/verify/${certData.uuid}
                        </p>
                    </div>
                    
                    <div class="certificate-actions">
                        <button onclick="downloadCertificate()" class="btn btn-accent">Download PDF üì•</button>
                        <button onclick="shareCertificate()" class="btn btn-primary">Share üöÄ</button>
                        <button onclick="window.location.href='operators-quiz.html'" class="btn btn-primary">New Quiz üîÑ</button>
                    </div>
                </div>
            `;

            certificateContainer.style.display = 'block';
            const quizReg = document.getElementById('quiz-registration');
            const quizCont = document.getElementById('quiz-content');
            const resultCont = document.getElementById('result-container');

            if (quizReg) quizReg.style.display = 'none';
            if (quizCont) quizCont.style.display = 'none';
            if (resultCont) resultCont.style.display = 'none';

            certificateContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Initialize Quiz
        function initializeQuiz() {
            // Shuffle questions
            shuffledQuestions = shuffleArray([...quizQuestions]);
            loadQuestion(0);
        }

        // Fisher-Yates shuffle algorithm
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Load Question
        function loadQuestion(index) {
            const question = shuffledQuestions[index];

            currentQuestionSpan.textContent = `Question ${index + 1} of ${shuffledQuestions.length}`;
            progressFill.style.width = `${((index + 1) / shuffledQuestions.length) * 100}%`;

            let optionsHtml = '';
            question.options.forEach((option, optIndex) => {
                let optionClass = 'option-label';
                if (userAnswers[index] === optIndex) {
                    optionClass += ' selected';
                }

                optionsHtml += `
                    <label class="${optionClass}" for="option-${index}-${optIndex}">
                        <input type="radio" class="option-input" id="option-${index}-${optIndex}" 
                               name="question-${index}" value="${optIndex}"
                               ${userAnswers[index] === optIndex ? 'checked' : ''}>
                        <span class="option-text">${option}</span>
                    </label>
                `;
            });

            questionContainer.innerHTML = `
                <div class="question-card">
                    <div class="question-number">${index + 1}</div>
                    <div style="background: #e0e7ff; color: #3730a3; padding: 0.5rem 1rem; border-radius: 2rem; display: inline-block; margin-bottom: 1rem; font-size: 0.875rem; font-weight: 600;">
                        ${question.category}
                    </div>
                    <h3 class="question-text">${question.question}</h3>
                    <div class="options-grid">
                        ${optionsHtml}
                    </div>
                </div>
            `;

            // Add event listeners to options
            document.querySelectorAll('.option-input').forEach(input => {
                input.addEventListener('change', (e) => {
                    const selectedIndex = parseInt(e.target.value);
                    userAnswers[currentQuestion] = selectedIndex;

                    // Update UI
                    document.querySelectorAll('.option-label').forEach(label => {
                        label.classList.remove('selected');
                    });
                    e.target.closest('.option-label').classList.add('selected');

                    updateButtons();
                });
            });

            updateButtons();
        }

        // Update Button States
        function updateButtons() {
            prevBtn.disabled = currentQuestion === 0;

            if (currentQuestion === shuffledQuestions.length - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'inline-flex';
            } else {
                nextBtn.style.display = 'inline-flex';
                submitBtn.style.display = 'none';
            }

            const answeredCount = userAnswers.filter(a => a !== null).length;
            scoreSpan.textContent = `Progress: ${answeredCount}/${shuffledQuestions.length} answered`;
        }

        // Calculate final score
        function calculateFinalScore() {
            score = 0;
            userAnswers.forEach((answer, index) => {
                if (answer !== null && answer === shuffledQuestions[index].correct) {
                    score++;
                }
            });
            return score;
        }

        // Navigation
        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion(currentQuestion);
            }
        });

        nextBtn.addEventListener('click', () => {
            if (userAnswers[currentQuestion] === null) {
                alert('Please select an answer before proceeding!');
                return;
            }

            if (currentQuestion < shuffledQuestions.length - 1) {
                currentQuestion++;
                loadQuestion(currentQuestion);
            }
        });

        // Submit Quiz
        submitBtn.addEventListener('click', () => {
            if (userAnswers[currentQuestion] === null) {
                alert('Please select an answer before submitting!');
                return;
            }

            showResults();
        });

        // Show Results
        function showResults() {
            // Calculate final score
            score = calculateFinalScore();
            const percentage = (score / shuffledQuestions.length) * 100;
            const passed = percentage >= 50;

            let resultHtml = '';

            if (passed) {
                resultHtml = `
                    <div class="result-icon">üéâ</div>
                    <h2 class="result-title result-pass">Congratulations, ${studentName}!</h2>
                    <div class="result-score">${percentage.toFixed(1)}%</div>
                    <p class="result-message">You scored ${score} out of ${shuffledQuestions.length} questions correctly. You've earned a certificate!</p>
                    <button onclick="showCertificate()" class="btn btn-accent" style="margin: 1rem;">
                        View Certificate üìú
                    </button>
                    <button onclick="restartQuiz()" class="btn btn-primary">
                        Try Again üîÑ
                    </button>
                `;
                createConfetti();
            } else {
                resultHtml = `
                    <div class="result-icon">üìö</div>
                    <h2 class="result-title result-fail">Keep Learning, ${studentName}!</h2>
                    <div class="result-score">${percentage.toFixed(1)}%</div>
                    <p class="result-message">You scored ${score} out of ${shuffledQuestions.length}. Review the material and try again!</p>
                    <div style="margin-top: 2rem;">
                        <button onclick="restartQuiz()" class="btn btn-primary" style="margin-right: 1rem;">
                            Try Again üîÑ
                        </button>
                        <button onclick="window.location.href='operators-theory.html'" class="btn btn-primary">
                            Review Theory üìñ
                        </button>
                    </div>
                `;
            }

            resultHtml += `
                <div style="margin-top: 3rem; text-align: left;">
                    <h3 style="margin-bottom: 1rem;">Review Your Answers:</h3>
            `;

            shuffledQuestions.forEach((q, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === q.correct;
                const correctAnswer = q.options[q.correct];
                const userSelected = userAnswer !== null ? q.options[userAnswer] : "Not answered";

                resultHtml += `
                    <div style="background: ${isCorrect ? '#d1fae5' : '#fee2e2'}; 
                                padding: 1rem; margin: 0.5rem 0; border-radius: 0.5rem;">
                        <strong>Q${index + 1} (${q.category}):</strong> ${q.question}<br>
                        <strong>Your answer:</strong> ${userSelected}<br>
                        <span style="color: ${isCorrect ? '#059669' : '#dc2626'}; font-weight: 600;">
                            ${isCorrect ? '‚úì Correct' : '‚úó Incorrect'}
                        </span><br>
                        ${!isCorrect ? `<span><strong>Correct answer:</strong> ${correctAnswer}</span><br>` : ''}
                        <small style="color: #6b7280;">${q.explanation}</small>
                    </div>
                `;
            });

            resultHtml += `</div>`;

            resultContainer.innerHTML = resultHtml;
            resultContainer.style.display = 'block';
            questionContainer.style.display = 'none';
            document.querySelector('.quiz-controls').style.display = 'none';
            document.querySelector('.quiz-progress').style.display = 'none';

            resultContainer.scrollIntoView({ behavior: 'smooth' });
        }

        // Generate UUID for certificate
        function generateUUID() {
            if (typeof crypto !== 'undefined' && typeof crypto.randomUUID === 'function') {
                return crypto.randomUUID();
            }
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
                const r = Math.random() * 16 | 0;
                const v = c === 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        // Store certificate UUID
        let certificateUUID = null;

        // Show Certificate
        window.showCertificate = function () {
            const percentage = (score / shuffledQuestions.length) * 100;
            const today = new Date();
            const dateStr = today.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });

            // Generate UUID for this certificate
            certificateUUID = generateUUID();

            // Save to localStorage for persistence
            const certificateData = {
                studentName,
                studentEmail,
                score,
                totalQuestions: shuffledQuestions.length,
                percentage: percentage.toFixed(1),
                date: dateStr,
                uuid: certificateUUID
            };
            localStorage.setItem('namastai_operators_certificate', JSON.stringify(certificateData));

            // Send data to Google Sheets (if configured)
            sendToGoogleSheets(certificateData);

            certificateContainer.innerHTML = `
                <div class="certificate-border"></div>
                <div class="certificate-header">
                    <div class="certificate-logo">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" style="width: 120px; height: 120px;">
                            <path d="M65 160 L65 100 C65 70 85 40 95 20 L100 20 L100 160 Z" fill="#0056D2" stroke="none"/>
                            <path d="M135 160 L135 100 C135 70 115 40 105 20 L100 20 L100 160 Z" fill="#FF8C00" stroke="none"/>
                            <circle cx="80" cy="80" r="4" fill="white"/>
                            <circle cx="80" cy="120" r="4" fill="white"/>
                            <circle cx="120" cy="60" r="4" fill="white"/>
                            <circle cx="120" cy="100" r="4" fill="white"/>
                            <line x1="80" y1="80" x2="80" y2="120" stroke="white" stroke-width="2"/>
                            <line x1="80" y1="80" x2="65" y2="70" stroke="white" stroke-width="2"/>
                            <line x1="120" y1="60" x2="120" y2="100" stroke="white" stroke-width="2"/>
                            <line x1="120" y1="100" x2="135" y2="110" stroke="white" stroke-width="2"/>
                            <line x1="100" y1="20" x2="100" y2="160" stroke="white" stroke-width="2"/>
                        </svg>
                    </div>
                    <h1 class="certificate-title">Certificate of Achievement</h1>
                    <p class="certificate-subtitle">Java Operators & Assignments</p>
                </div>
                
                <div class="certificate-body">
                    <p class="certificate-text">
                        This certifies that
                    </p>
                    
                    <div class="student-name">${studentName}</div>
                    
                    <p class="certificate-text">
                        has successfully completed the Java Operators & Assignments Quiz 
                        with a score of <strong>${percentage.toFixed(1)}%</strong> 
                        (${score} out of ${shuffledQuestions.length} questions) 
                        demonstrating proficiency in Java operators and type conversions.
                    </p>
                    
                    <div class="certificate-details">
                        <div class="certificate-date">
                            <h4>Date</h4>
                            <p>${dateStr}</p>
                        </div>
                        <div class="certificate-score">
                            <h4>Score</h4>
                            <p>${percentage.toFixed(1)}%</p>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--color-border);">
                        <p style="font-size: 0.875rem; color: var(--color-text-secondary);">
                            <strong>Certificate ID:</strong> ${certificateUUID}
                        </p>
                        <p style="font-size: 0.75rem; color: var(--color-text-muted); margin-top: 0.5rem;">
                            Verify at namastai.shiksha/verify/${certificateUUID}
                        </p>
                    </div>
                    
                    <div class="certificate-actions">
                        <button onclick="downloadCertificate()" class="btn btn-accent">
                            Download PDF üì•
                        </button>
                        <button onclick="shareCertificate()" class="btn btn-primary">
                            Share üöÄ
                        </button>
                        <button onclick="restartQuiz()" class="btn btn-primary">
                            Try Again üîÑ
                        </button>
                    </div>
                </div>
            `;

            certificateContainer.style.display = 'block';
            resultContainer.style.display = 'none';
            window.location.hash = 'certificate';
            certificateContainer.scrollIntoView({ behavior: 'smooth' });
        };

        // Download Certificate as PDF
        window.downloadCertificate = async function () {
            try {
                const downloadBtn = event.target;
                const originalText = downloadBtn.innerHTML;
                downloadBtn.innerHTML = 'Generating PDF... ‚è≥';
                downloadBtn.disabled = true;

                const actionButtons = certificateContainer.querySelector('.certificate-actions');
                if (actionButtons) {
                    actionButtons.style.display = 'none';
                }

                await new Promise(resolve => setTimeout(resolve, 300));

                const canvas = await html2canvas(certificateContainer, {
                    scale: 2,
                    backgroundColor: '#fef3c7',
                    logging: false,
                    useCORS: true,
                    imageTimeout: 5000,
                    letterRendering: 1,
                    onclone: (clonedDoc) => {
                        const clonedCert = clonedDoc.querySelector('.certificate-container');
                        if (clonedCert) {
                            clonedCert.style.animation = 'none';
                        }
                    }
                });

                if (actionButtons) {
                    actionButtons.style.display = 'flex';
                }

                const { jsPDF } = window.jspdf;
                const imgWidth = canvas.width;
                const imgHeight = canvas.height;
                const aspectRatio = imgWidth / imgHeight;
                const pdfWidth = 297;
                const pdfHeight = 210;
                let finalWidth = pdfWidth;
                let finalHeight = pdfWidth / aspectRatio;

                if (finalHeight > pdfHeight) {
                    finalHeight = pdfHeight;
                    finalWidth = pdfHeight * aspectRatio;
                }

                const xOffset = (pdfWidth - finalWidth) / 2;
                const yOffset = (pdfHeight - finalHeight) / 2;

                const pdf = new jsPDF({
                    orientation: 'landscape',
                    unit: 'mm',
                    format: 'a4',
                    compress: true
                });

                const imgData = canvas.toDataURL('image/jpeg', 0.98);
                pdf.addImage(imgData, 'JPEG', xOffset, yOffset, finalWidth, finalHeight, '', 'FAST');

                const filename = `NamastAI_Java_Operators_Certificate_${studentName.replace(/\s+/g, '_')}_${certificateUUID.substring(0, 8)}.pdf`;
                pdf.save(filename);

                downloadBtn.innerHTML = originalText;
                downloadBtn.disabled = false;
                trackCertificateDownload(certificateUUID);

                setTimeout(() => {
                    alert('‚úÖ Certificate downloaded successfully!\n\nFilename: ' + filename);
                }, 100);

            } catch (error) {
                console.error('Error generating PDF:', error);
                alert('‚ùå Error generating PDF. Please try again or take a screenshot.\n\nError: ' + error.message);

                if (event && event.target) {
                    event.target.innerHTML = 'Download PDF üì•';
                    event.target.disabled = false;
                }

                const actionButtons = certificateContainer.querySelector('.certificate-actions');
                if (actionButtons) {
                    actionButtons.style.display = 'flex';
                }
            }
        };

        // Share Certificate
        window.shareCertificate = function () {
            const percentage = (score / shuffledQuestions.length) * 100;
            const text = `I scored ${percentage.toFixed(1)}% on Java Operators & Assignments Quiz at NamastAI.shiksha! üéØ`;

            if (navigator.share) {
                navigator.share({
                    title: 'Java Operators Certificate',
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(text).then(() => {
                    alert('Certificate link copied to clipboard!');
                });
            }
        };

        // Confetti Animation
        function createConfetti() {
            const colors = ['#0056D2', '#7c3aed', '#10b981', '#ec4899', '#f59e0b'];

            for (let i = 0; i < 200; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-20px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                document.body.appendChild(confetti);

                const animation = confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: 1000 + Math.random() * 2000,
                    easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
                });

                animation.onfinish = () => confetti.remove();
            }
        }

        // Restart Quiz
        window.restartQuiz = function () {
            currentQuestion = 0;
            userAnswers = new Array(quizQuestions.length).fill(null);
            score = 0;

            resultContainer.style.display = 'none';
            certificateContainer.style.display = 'none';
            questionContainer.style.display = 'block';
            document.querySelector('.quiz-controls').style.display = 'flex';
            document.querySelector('.quiz-progress').style.display = 'flex';

            quizRegistration.style.display = 'block';
            quizContent.style.display = 'none';

            document.getElementById('student-name').value = '';
            document.getElementById('student-email').value = '';
            document.getElementById('student-id').value = '';

            window.scrollTo({ top: 0, behavior: 'smooth' });
        };
    </script>
</body>

</html>